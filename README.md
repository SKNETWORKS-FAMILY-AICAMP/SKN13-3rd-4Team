<<<<<<< HEAD
# ì‡¼í•‘ëª° ê³ ê°ì‘ëŒ€ ì±—ë´‡ (RAG ê¸°ë°˜)

## í”„ë¡œì íŠ¸ ê°œìš”
RAG(Retrieval-Augmented Generation) ê¸°ë°˜ì˜ ì‡¼í•‘ëª° ê³ ê° ì‘ëŒ€ ì±—ë´‡ ì‹œìŠ¤í…œìž…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥
- **FAQ ì‘ë‹µ ìžë™í™”**: ë°˜í’ˆ, êµí™˜, ë°°ì†¡ë¹„ ë“± ìžì£¼ ë¬»ëŠ” ì§ˆë¬¸ì— ë²¡í„° ê²€ìƒ‰ ê¸°ë°˜ ì‘ë‹µ
- **ìƒí’ˆ ì œì› ì •ë³´ ì‘ë‹µ**: ì œí’ˆ ì„¤ëª…ì„œì—ì„œ ê´€ë ¨ ì •ë³´ ì¶”ì¶œ
- **ë°°ì†¡ í˜„í™© ì‘ë‹µ**: ì£¼ë¬¸ì •ë³´ í™•ì¸ ë° íƒë°° API ì—°ë™
- **Intent ë¶„ë¥˜**: ì§ˆë¬¸ ìœ í˜• ë¶„ì„ í›„ ì ì ˆí•œ ì²˜ë¦¬ ë°©ì‹ ì„ íƒ
- **ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ ìœ ì§€**: ìžì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” ì§€ì†

### ê¸°ìˆ  ìŠ¤íƒ
- **LLM**: OpenAI GPT-4
- **Vector DB**: Chroma
- **Embedding**: OpenAI text-embedding-3-large
- **Database**: SQLite
- **Framework**: Streamlit (ì‹œì—°ìš©)
- **Language**: Python

## í”„ë¡œì íŠ¸ êµ¬ì¡°
```
chatbot/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ unified_chatbot.py         # ðŸŽ¯ ë©”ì¸ Streamlit ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ agent_processor.py         # ðŸš€ Tool Calling Agent (ë©”ì¸ ì²˜ë¦¬ê¸°)
â”‚   â”œâ”€â”€ langchain_tools.py         # LangChain Tool ëž˜í¼ë“¤
â”‚   â”œâ”€â”€ rag_processor.py           # RAG ê²€ìƒ‰ ì²˜ë¦¬ê¸°
â”‚   â”œâ”€â”€ db_query_engine.py         # ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì—”ì§„
â”‚   â”œâ”€â”€ delivery_api_wrapper.py    # ë°°ì†¡ ì¶”ì  API ëž˜í¼
â”‚   â””â”€â”€ response_styler.py         # ì‘ë‹µ ìŠ¤íƒ€ì¼ë§
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw_docs/                  # ì›ë³¸ ë¬¸ì„œ (JSON)
â”‚   â”œâ”€â”€ sample_db/                 # SQLite ë°ì´í„°ë² ì´ìŠ¤
â”‚   â””â”€â”€ vectordb_chroma/           # Chroma ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤
â”œâ”€â”€ db/
â”‚   â””â”€â”€ schema.sql                 # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ simple_db_init.py          # ê°„ë‹¨í•œ DB ì´ˆê¸°í™”
â”‚   â””â”€â”€ simple_embed.py            # ë¬¸ì„œ ìž„ë² ë”©
â””â”€â”€ docs/                          # ðŸ“š ë¬¸ì„œ
```

## ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ê°€ìƒí™˜ê²½ í™œì„±í™”
```bash
conda activate 3rd
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
pip install -r requirements.txt
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
`.env` íŒŒì¼ì— í•„ìš”í•œ API í‚¤ë“¤ ì„¤ì •:
```
OPENAI_API_KEY=your_openai_api_key_here
DELIVERY_API_KEY=your_sweettracker_api_key_here
DELIVERY_API_BASE_URL=https://info.sweettracker.co.kr
```

**ë°°ì†¡ API ì„¤ì • (ì„ íƒì‚¬í•­)**:
- ìŠ¤ë§ˆíŠ¸íƒë°° API í‚¤ê°€ ìžˆìœ¼ë©´ ì‹¤ì œ ë°°ì†¡ ì¶”ì  ê°€ëŠ¥
- API í‚¤ê°€ ì—†ìœ¼ë©´ ëª© ë°ì´í„°ë¡œ ìžë™ í´ë°±

### 4. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
```bash
python scripts/simple_db_init.py
```

### 5. ë¬¸ì„œ ìž„ë² ë”©
```bash
python scripts/simple_embed.py
```

### 6. í†µí•© ì±—ë´‡ ì‹¤í–‰
```bash
streamlit run app/unified_chatbot.py
```

### 7. Jupyter ë…¸íŠ¸ë¶ ì‹¤í–‰ (ì„ íƒì‚¬í•­)
```bash
jupyter notebook notebooks/01_RAG_System_Demo.ipynb
```

## ðŸŽ¯ í†µí•© ì±—ë´‡ ì£¼ìš” ê¸°ëŠ¥

### ðŸ”„ **ì²˜ë¦¬ ëª¨ë“œ ì„ íƒ**
- **ðŸš€ Tool Calling Agent ëª¨ë“œ**: LLMì´ ìžë™ìœ¼ë¡œ ë„êµ¬ ì„ íƒ (ê¸°ë³¸, ê¶Œìž¥)
- **ðŸ§  Intent Classifier ëª¨ë“œ**: ì˜ë„ ë¶„ë¥˜ + ì „ìš© ë„êµ¬ ì‚¬ìš© (ë¹ ë¦„, ì •í™•)

### ðŸ‘¤ **ê°œì¸í™” ì„œë¹„ìŠ¤**
- ì‚¬ìš©ìžë³„ ë¡œê·¸ì¸ ì‹œë®¬ë ˆì´ì…˜
- ê°œì¸ ì£¼ë¬¸ ë‚´ì—­ ìžë™ ì—°ë™
- ë§žì¶¤í˜• ì‘ë‹µ ìƒì„±

### ðŸšš **ì‹¤ì‹œê°„ ë°°ì†¡ ì¶”ì **
- ìŠ¤ë§ˆíŠ¸íƒë°° API ì—°ë™ìœ¼ë¡œ ì‹¤ì œ ë°°ì†¡ ìƒíƒœ ì¡°íšŒ
- ìš´ì†¡ìž¥ë²ˆí˜¸ ë˜ëŠ” ì£¼ë¬¸ë²ˆí˜¸ë¡œ ë°°ì†¡ ì¶”ì 
- API ì‹¤íŒ¨ ì‹œ ëª© ë°ì´í„°ë¡œ ìžë™ í´ë°±
- ìƒì„¸í•œ ë°°ì†¡ ì´ë ¥ ë° í˜„ìž¬ ìœ„ì¹˜ ì œê³µ

### ðŸ“Š **ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥**
- ì‹¤ì‹œê°„ ì‘ë‹µ ì‹œê°„ ì¸¡ì •
- ì²˜ë¦¬ ë°©ì‹ ì¶”ì 
- LangSmith í†µí•© ì§€ì› (ì„ íƒì )

## ì‚¬ìš© ì˜ˆì‹œ
- "ë°˜í’ˆì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?" â†’ FAQ ê²€ìƒ‰ í›„ ì‘ë‹µ
- "ë¬´ì„  ì´ì–´í° ì‚¬ì–‘ì´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?" â†’ ì œí’ˆ ì„¤ëª…ì„œ ê²€ìƒ‰
- "ì£¼ë¬¸ë²ˆí˜¸ ORD20241201001 ìƒíƒœ í™•ì¸í•´ì£¼ì„¸ìš”" â†’ DB ì¡°íšŒ
- "ìš´ì†¡ìž¥ë²ˆí˜¸ 123456789012 ë°°ì†¡ í˜„í™© ì•Œë ¤ì£¼ì„¸ìš”" â†’ ë°°ì†¡ API ì—°ë™

## ì£¼ìš” íŒŒì¼ ì„¤ëª…

### í•µì‹¬ ëª¨ë“ˆ
- `core/agent_processor.py`: Tool Calling Agent ë©”ì¸ ì²˜ë¦¬ê¸° (Batch ì²˜ë¦¬ í¬í•¨)
- `core/langchain_tools.py`: LangChain Tool ëž˜í¼ë“¤ (RAG, ì£¼ë¬¸ì¡°íšŒ, ë°°ì†¡ì¶”ì  ë“±)
- `core/rag_processor.py`: RAG ê¸°ë°˜ ë¬¸ì„œ ê²€ìƒ‰ ë° ì‘ë‹µ ìƒì„±
- `core/db_query_engine.py`: ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì²˜ë¦¬
- `core/delivery_api_wrapper.py`: ë°°ì†¡ ì¶”ì  API ì—°ë™
- `core/response_styler.py`: ì‘ë‹µ ìŠ¤íƒ€ì¼ë§

### ë°ì´í„°
- `data/raw_docs/faq_data.json`: FAQ ë°ì´í„°
- `data/raw_docs/product_info.json`: ìƒí’ˆ ì •ë³´
- `data/raw_docs/sample_users.json`: ìƒ˜í”Œ ì‚¬ìš©ìž ë°ì´í„°
- `data/raw_docs/sample_orders.json`: ìƒ˜í”Œ ì£¼ë¬¸ ë°ì´í„°

### ìœ í‹¸ë¦¬í‹°
- `scripts/simple_embed.py`: ë¬¸ì„œ ìž„ë² ë”© ìŠ¤í¬ë¦½íŠ¸
- `scripts/simple_db_init.py`: ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ðŸš€ Tool Calling Agent (ë‹¨ì¼ ì²˜ë¦¬ ë°©ì‹)
```
[ì‚¬ìš©ìž ìž…ë ¥]
   â†“
[ë³µí•© ì§ˆë¬¸ ë¶„ì„] â†’ Batch ì²˜ë¦¬ ì—¬ë¶€ ê²°ì •
   â†“
[GPT-4o-mini ë¶„ì„] â†’ ìžë™ ë„êµ¬ ì„ íƒ
   â†“
[Tool Execution]
   â”œâ”€â”€ [RAGSearchTool] (FAQ, ì œí’ˆ ì •ë³´)
   â”œâ”€â”€ [OrderLookupTool] (ì£¼ë¬¸/ì‚¬ìš©ìž ì •ë³´ ì¡°íšŒ)
   â”œâ”€â”€ [DeliveryTrackingTool] (ë°°ì†¡ ì¶”ì )
   â”œâ”€â”€ [ProductSearchTool] (ìƒí’ˆ ê²€ìƒ‰)
   â””â”€â”€ [GeneralResponseTool] (ì¼ë°˜ ì‘ë‹µ)
   â†“
[ê²°ê³¼ ì¢…í•©] â†’ ìžì—°ìŠ¤ëŸ¬ìš´ ì‘ë‹µ ìƒì„±
   â†“
[ìµœì¢… ì‘ë‹µ]
```

### ðŸ“¦ Batch ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš° (ë³µí•© ì§ˆë¬¸)
```
[ë³µí•© ì§ˆë¬¸] â†’ "ë‚´ ì´ë¦„ ë­ê³  ë‚´ ì˜· ì–´ë””ì™”ëŠ”ì§€ ì•Œë ¤ì¤˜"
   â†“
[ì§ˆë¬¸ ë¶„ì„] â†’ ê°œë³„ ìž‘ì—…ìœ¼ë¡œ ë¶„í•´
   â”œâ”€â”€ ì‚¬ìš©ìž ì •ë³´ ì¡°íšŒ
   â””â”€â”€ ë°°ì†¡ ì¶”ì 
   â†“
[ë³‘ë ¬ ì‹¤í–‰] â†’ ì—¬ëŸ¬ ë„êµ¬ ë™ì‹œ ì‹¤í–‰
   â†“
[ê²°ê³¼ í†µí•©] â†’ í•˜ë‚˜ì˜ ìžì—°ìŠ¤ëŸ¬ìš´ ì‘ë‹µìœ¼ë¡œ ì¢…í•©
   â†“
[ìµœì¢… ì‘ë‹µ]
```

## ðŸ“š ë¬¸ì„œ

- **[GUIDE.md](GUIDE.md)**: ìƒì„¸í•œ ì„¤ì¹˜, ì‚¬ìš©ë²•, ë°ì´í„° ê´€ë¦¬ ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
- **[docs/](docs/)**: ì¶”ê°€ ê¸°ìˆ  ë¬¸ì„œ ë° ì•„í‚¤í…ì²˜ ì •ë³´

## ë¼ì´ì„ ìŠ¤
MIT License

## ê°œë°œíŒ€
SKN13-3rd-4Team
=======
## ê°œë°œíŒ€
SKN13-3rd-4Team

>>>>>>> 98f88f8369a00fea011ba0112cbc9097e2eb5e55
